<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ElectroHub Login</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="auth-container">

  <div class="auth-card">
    <h2 class="neon-title">ElectroHub Login</h2>

    <select id="roleSelect">
      <option value="customer">Customer</option>
      <option value="admin">Admin</option>
    </select>

    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Login</button>

    <p>Don't have an account? <a href="register.html">Register</a></p>
    <p id="msg" style="color: #ff2cdf; text-align:center;"></p>
  </div>

</div>

<script>
function login(){
  const role = document.getElementById('roleSelect').value;
  const u = document.getElementById('username').value.trim();
  const p = document.getElementById('password').value;
  const msg = document.getElementById('msg');

  if(role === "admin"){
    if(u === "admin" && p === "admin123"){
      localStorage.setItem("session", JSON.stringify({role:"admin", user:"admin"}));
      location.href = "admin-dashboard.html";
      return;
    } else {
      msg.innerText = "Invalid admin credentials";
      return;
    }
  }

  // CUSTOMER LOGIN
  let customers = JSON.parse(localStorage.getItem("customers") || "[]");
  let user = customers.find(c=>c.username===u && c.password===p && c.status==="active");
  if(!user){ msg.innerText = "Invalid customer credentials"; return; }

  localStorage.setItem("session", JSON.stringify({role:"customer", user:u}));
  location.href = "customer-dashboard.html";
}
</script>
</body>
</html>
